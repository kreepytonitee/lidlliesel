<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Chapter</title>
<link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>

<div id="affiliate-banner"></div>

<div id="link-wall">
  <p>To read this chapter, visit a partner below:</p>
  <button id="unlock-btn">Unlock Chapter</button>
</div>

<div id="chapter-content" style="display:none;"></div>

<script src="/assets/js/main.js"></script>
<script>
const storySlug = 'story-slug';
const chapterNum = 1;

fetch('/data/stories.json')
  .then(res => res.json())
  .then(data => {
    const content = document.getElementById('chapter-content');
    const rows = data.filter(d => d.story_slug === storySlug && +d.chapter_num === chapterNum);
    rows.sort((a,b) => +a.para_num - +b.para_num);
    rows.forEach(row => {
      const div = document.createElement('div');
      div.className = 'row';
      div.innerHTML = `
        <div class="left">${row.lang1_text}</div>
        <div class="right">${row.lang2_text}</div>
      `;
      content.appendChild(div);
    });
  });
</script>

</body>
</html>
